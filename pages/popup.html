<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Qura</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../css/popup.css">
</head>
<body>
  <div class="popup-container">
    <!-- Header -->
    <header class="popup-header">
      <div class="logo">
		<span class="logo-text">qura</span>
	</div>
      <button id="options-btn" class="icon-btn" title="Settings">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"/>
          <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
        </svg>
      </button>
    </header>

    <!-- Timer Display -->
    <div class="timer-section">
      <div class="timer-display" id="timer-display">00:00</div>
      <div class="timer-status" id="timer-status">Select a session to begin</div>
      <div class="strict-mode-badge" id="strict-mode-badge" style="display: none;">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
          <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
        </svg>
        <span>Strict Mode</span>
      </div>
    </div>

    <!-- Session Selector -->
    <div class="session-section">
      <label class="section-label">Session</label>
      <div class="session-selector">
        <select id="session-select">
          <option value="">-- Select Session --</option>
        </select>
        <div class="session-indicator" id="session-indicator"></div>
      </div>
    </div>

    <!-- Strict Mode -->
    <div class="strict-mode-section" id="strict-mode-section">
      <div class="strict-mode-header">
        <div class="header-label-group">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" class="lock-icon">
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
          </svg>
          <label class="section-label">Strict Mode</label>
        </div>
        <label class="toggle-switch">
          <input type="checkbox" id="strict-mode-toggle">
          <span class="toggle-slider"></span>
        </label>
      </div>
      
      <div class="strict-mode-timer" id="strict-mode-timer" style="display: none;">
        <div class="time-inputs">
          
          <div class="time-input-group" data-tooltip="Hours">
            <input type="number" id="strict-hours" min="0" max="23" value="0" placeholder="0">
            <div class="custom-spinners">
              <button class="spinner-btn up" data-target="strict-hours">▲</button>
              <button class="spinner-btn down" data-target="strict-hours">▼</button>
            </div>
            <span class="unit-label">h</span>
          </div>

          <div class="time-input-group" data-tooltip="Minutes">
            <input type="number" id="strict-minutes" min="0" max="59" value="25" placeholder="25">
            <div class="custom-spinners">
              <button class="spinner-btn up" data-target="strict-minutes">▲</button>
              <button class="spinner-btn down" data-target="strict-minutes">▼</button>
            </div>
            <span class="unit-label">m</span>
          </div>

          <div class="time-input-group" data-tooltip="Seconds">
            <input type="number" id="strict-seconds" min="0" max="59" value="0" placeholder="0">
            <div class="custom-spinners">
              <button class="spinner-btn up" data-target="strict-seconds">▲</button>
              <button class="spinner-btn down" data-target="strict-seconds">▼</button>
            </div>
            <span class="unit-label">s</span>
          </div>
          
        </div>

        <div class="quick-presets">
          <button class="preset-btn" data-time="900">15m</button>
          <button class="preset-btn active" data-time="1500">25m</button>
          <button class="preset-btn" data-time="2700">45m</button>
          <button class="preset-btn" data-time="3600">1h</button>
        </div>
      </div>
    </div>

    <!-- Timer Controls -->
    <div class="controls-section">
      <button id="start-btn" class="control-btn primary" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <polygon points="5,3 19,12 5,21"/>
        </svg>
        <span>Start</span>
      </button>
      <button id="pause-btn" class="control-btn secondary" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <rect x="6" y="4" width="4" height="16"/>
          <rect x="14" y="4" width="4" height="16"/>
        </svg>
        <span>Pause</span>
      </button>
      <button id="end-btn" class="control-btn danger" disabled>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <rect x="4" y="4" width="16" height="16" rx="2"/>
        </svg>
        <span>End</span>
      </button>
    </div>

    <!-- Quick Add Website -->
    <div class="quick-add-section">
      <label class="section-label">Quick Add Website</label>
      <div class="quick-add-form">
        <input type="text" id="website-input" placeholder="e.g., youtube.com" />
        <button id="add-website-btn" class="add-btn" disabled>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19"/>
            <line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
        </button>
      </div>
      <p class="quick-add-hint">Add a website to whitelist for the selected session</p>
    </div>

    <!-- Footer Stats -->
    <footer class="popup-footer">
      <div class="stat-item">
        <span class="stat-value" id="total-time">0m</span>
        <span class="stat-label">Session Time</span>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-item">
        <span class="stat-value" id="tasks-done">0</span>
        <span class="stat-label">Tasks</span>
      </div>
    </footer>
  </div>

  <!-- Toast Container -->
  <div class="toast-container" id="toast-container"></div>

  <!-- Strict Mode Warning Modal -->
  <div class="strict-warning-modal" id="strict-warning-modal">
    <div class="strict-warning-content">
      <div class="strict-warning-header">
        <svg width="24" height="24" viewBox="0 0 640 640" fill="currentColor">
          <path d="M320 64C334.7 64 348.2 72.1 355.2 85L571.2 485C577.9 497.4 577.6 512.4 570.4 524.5C563.2 536.6 550.1 544 536 544L104 544C89.9 544 76.8 536.6 69.6 524.5C62.4 512.4 62.1 497.4 68.8 485L284.8 85C291.8 72.1 305.3 64 320 64zM320 416C302.3 416 288 430.3 288 448C288 465.7 302.3 480 320 480C337.7 480 352 465.7 352 448C352 430.3 337.7 416 320 416zM320 224C301.8 224 287.3 239.5 288.6 257.7L296 361.7C296.9 374.2 307.4 384 319.9 384C332.5 384 342.9 374.3 343.8 361.7L351.2 257.7C352.5 239.5 338.1 224 319.8 224z"/>
        </svg>
        <h3>Strict Mode Warning</h3>
      </div>
      <p class="strict-warning-message">
        You are in strict mode. The timer <strong>cannot be stopped or paused</strong> and the timer duration <strong>cannot be edited</strong> until the timer runs out.
      </p>
      <p class="strict-warning-question">Are you sure you want to continue?</p>
      <div class="strict-warning-checkbox">
        <label>
          <input type="checkbox" id="disable-strict-warning">
          <span>Don't show this warning again</span>
        </label>
      </div>
      <div class="strict-warning-actions">
        <button class="strict-warning-btn cancel" id="strict-warning-cancel">Cancel</button>
        <button class="strict-warning-btn continue" id="strict-warning-continue">Continue</button>
      </div>
    </div>
  </div>

  <script src="../js/popup.js"></script>
</body>
</html>
